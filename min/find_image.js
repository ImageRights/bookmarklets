(async()=>{"use strict";const e=location.hash.match(/(?:&?)highlight=(\d+)/i);if(!e)return alert("No image to search for.");const t=+e[1],i=$(".ir-thumbnail-container"),a=i.scope(),r=i.injector().get("$http"),n=(e=>{const t=e.image_set.id,i=e.current_user.id;return`/api/v1/image_set/${t}/images?per_page=${e.pagination.itemsPerPage}&user_id=${i}&page=`})(a);let o=1,g=a.pagination.currentPage,s=a.pagination.totalPages,{records:c}=a;const h=async e=>{for(a.pagination.setCurrentPage(g),a.$apply();a.loadingTracker.active();)await new Promise(requestAnimationFrame);return e()};do{if(c.find(e=>e.id===t))return h(()=>a.do_highlighting());if(c[0].id>t)s=g-1;else{if(!(c[c.length-1].id<t))return h(()=>alert("The target image should be on this page, but it's not..."));o=g+1}g=(o+s)/2|0,c=(await r.get(n+g)).data}while(o<=s)})();